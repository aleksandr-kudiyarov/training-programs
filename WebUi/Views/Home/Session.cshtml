@using System.Globalization
@using Core.Entities.Repeats
@model Core.Entities.Session

@{
    ViewData["Title"] = "Home Page";
}

<div>
    <div>
        <h3>Session @Model.Day</h3>
        @foreach (var set in Model.Rounds)
        {
            foreach (var _ in Enumerable.Range(0, set.Rounds))
            {
                foreach (var ex in set.Exercises)
                {
                    <div>
                        <p>@ex.Name</p>
                        @foreach (var repeat in ex.Repeats)
                        {
                            switch (repeat)
                            {
                                case SingleRepeat singleRepeat:
                                    <p>@(singleRepeat.Weight != null ? $"{singleRepeat.Weight} × " : string.Empty)@singleRepeat.Repeats</p>
                                    break;
                                case MultiRepeat multiRepeat:
                                    <p>@(multiRepeat.Weight != null ? $"{multiRepeat.Weight} × " : string.Empty)@string.Join("+", multiRepeat.Repeats)</p>
                                    break;
                                case StaticRepeat staticRepeat:
                                    <p>@staticRepeat.Time.TotalSeconds.ToString(CultureInfo.CurrentCulture) sec</p>
                                    break;
                            }
                        }
                    </div>
                }
            }
        }
    </div>
</div>